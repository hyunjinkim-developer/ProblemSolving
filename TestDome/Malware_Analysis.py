"""
Problem: https://www.testdome.com/questions/python/malware-analysis/108074
"""

def simulate(entries):
    """
    :param entries: (list(int)) The numerical record files
    :returns: (list(int)) The record files after running the malware
    """
    answer = entries.copy()
    for idx_X in range(0, len(entries)):
        Tl, X, Tr = -1, entries[idx_X], -1

        if 0 <= idx_X - 3:
            Tl = entries[idx_X - 3]
        if idx_X + 4 < len(entries):
            Tr = entries[idx_X + 4]

        if X <= Tl or X <= Tr:
            answer[idx_X] = 0

    return answer


records = [1, 2, 0, 5, 0, 2, 4, 3, 3, 3]
print(simulate(records))
# Expected output
# [1, 0, 0, 5, 0, 0, 0, 3_Greedy, 3_Greedy, 0]